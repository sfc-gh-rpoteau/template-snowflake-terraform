repos:
  - repo: https://github.com/antonbabenko/pre-commit-terraform
    rev: v1.105.0
    hooks:
      # Runs terraform validate
      - id: terraform_validate
        files: ^(environments|modules)/

      # Runs tflint â€” skipped automatically if tflint is not installed
      - id: terraform_tflint
        files: ^(environments|modules)/
      
      # Rewrites all Terraform files to a canonical format
      - id: terraform_fmt
        files: ^(environments|modules)/

  - repo: https://github.com/bridgecrewio/checkov.git
    rev: 3.2.500
    hooks:
      # Runs checkov security/compliance scanner on Terraform files
      - id: checkov
        files: ^(environments|modules)/
        args: ["--quiet", "--compact", "--framework", "terraform"]
